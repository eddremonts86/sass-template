{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/edd/Projects/next-js-template/apps/frontend/src/stores/auth-store.ts"],"sourcesContent":["import { create } from 'zustand';\nimport { persist } from 'zustand/middleware';\nimport type { Locale } from '@/lib/i18n/config';\n\n/**\n * User interface for authenticated user data\n */\nexport interface User {\n  id: string;\n  email: string;\n  firstName?: string;\n  lastName?: string;\n  imageUrl?: string;\n}\n\n/**\n * Theme type definition\n */\nexport type Theme = 'light' | 'dark' | 'system';\n\n/**\n * Auth store state interface\n */\ninterface AuthState {\n  // User data\n  user: User | null;\n  isAuthenticated: boolean;\n\n  // UI preferences\n  theme: Theme;\n  locale: Locale;\n  sidebarCollapsed: boolean;\n\n  // Actions\n  setUser: (user: User | null) => void;\n  setAuthenticated: (authenticated: boolean) => void;\n  setTheme: (theme: Theme) => void;\n  setLocale: (locale: Locale) => void;\n  setSidebarCollapsed: (collapsed: boolean) => void;\n  reset: () => void;\n}\n\n/**\n * Initial state for the auth store\n */\nconst initialState = {\n  user: null,\n  isAuthenticated: false,\n  theme: 'system' as Theme,\n  locale: 'en' as Locale,\n  sidebarCollapsed: false,\n};\n\n/**\n * Zustand store for authentication and user preferences\n * Persisted in localStorage for user preferences\n */\nexport const useAuthStore = create<AuthState>()(\n  persist(\n    set => ({\n      ...initialState,\n\n      setUser: (user: User | null) => {\n        set({ user, isAuthenticated: !!user });\n      },\n\n      setAuthenticated: (authenticated: boolean) => {\n        set({ isAuthenticated: authenticated });\n        if (!authenticated) {\n          set({ user: null });\n        }\n      },\n\n      setTheme: (theme: Theme) => {\n        set({ theme });\n        // Apply theme to document\n        if (typeof window !== 'undefined') {\n          const root = window.document.documentElement;\n          root.classList.remove('light', 'dark');\n\n          if (theme === 'system') {\n            const systemTheme = window.matchMedia(\n              '(prefers-color-scheme: dark)'\n            ).matches\n              ? 'dark'\n              : 'light';\n            root.classList.add(systemTheme);\n          } else {\n            root.classList.add(theme);\n          }\n        }\n      },\n\n      setLocale: (locale: Locale) => {\n        set({ locale });\n      },\n\n      setSidebarCollapsed: (collapsed: boolean) => {\n        set({ sidebarCollapsed: collapsed });\n      },\n\n      reset: () => {\n        set(initialState);\n      },\n    }),\n    {\n      name: 'auth-store',\n      partialize: state => ({\n        theme: state.theme,\n        locale: state.locale,\n        sidebarCollapsed: state.sidebarCollapsed,\n      }),\n    }\n  )\n);\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAyCA;;CAEC,GACD,MAAM,eAAe;IACnB,MAAM;IACN,iBAAiB;IACjB,OAAO;IACP,QAAQ;IACR,kBAAkB;AACpB;AAMO,MAAM,eAAe,IAAA,+VAAM,IAChC,IAAA,qWAAO,EACL,CAAA,MAAO,CAAC;QACN,GAAG,YAAY;QAEf,SAAS,CAAC;YACR,IAAI;gBAAE;gBAAM,iBAAiB,CAAC,CAAC;YAAK;QACtC;QAEA,kBAAkB,CAAC;YACjB,IAAI;gBAAE,iBAAiB;YAAc;YACrC,IAAI,CAAC,eAAe;gBAClB,IAAI;oBAAE,MAAM;gBAAK;YACnB;QACF;QAEA,UAAU,CAAC;YACT,IAAI;gBAAE;YAAM;YACZ,0BAA0B;YAC1B,wCAAmC;gBACjC,MAAM,OAAO,OAAO,QAAQ,CAAC,eAAe;gBAC5C,KAAK,SAAS,CAAC,MAAM,CAAC,SAAS;gBAE/B,IAAI,UAAU,UAAU;oBACtB,MAAM,cAAc,OAAO,UAAU,CACnC,gCACA,OAAO,GACL,SACA;oBACJ,KAAK,SAAS,CAAC,GAAG,CAAC;gBACrB,OAAO;oBACL,KAAK,SAAS,CAAC,GAAG,CAAC;gBACrB;YACF;QACF;QAEA,WAAW,CAAC;YACV,IAAI;gBAAE;YAAO;QACf;QAEA,qBAAqB,CAAC;YACpB,IAAI;gBAAE,kBAAkB;YAAU;QACpC;QAEA,OAAO;YACL,IAAI;QACN;IACF,CAAC,GACD;IACE,MAAM;IACN,YAAY,CAAA,QAAS,CAAC;YACpB,OAAO,MAAM,KAAK;YAClB,QAAQ,MAAM,MAAM;YACpB,kBAAkB,MAAM,gBAAgB;QAC1C,CAAC;AACH","debugId":null}},
    {"offset": {"line": 83, "column": 0}, "map": {"version":3,"sources":["file:///Users/edd/Projects/next-js-template/apps/frontend/src/lib/auth/clerk-provider.tsx"],"sourcesContent":["'use client';\n\nimport { useAuthStore } from '@/stores/auth-store';\nimport { ClerkProvider, useUser } from '@clerk/nextjs';\nimport { useEffect } from 'react';\n\n/**\n * Props for ClerkAuthProvider component\n */\ninterface ClerkAuthProviderProps {\n  children: React.ReactNode;\n}\n\n/**\n * Internal component to sync Clerk user with Zustand store\n */\nfunction UserSync() {\n  const { user, isSignedIn } = useUser();\n  const { setUser, setAuthenticated } = useAuthStore();\n\n  useEffect(() => {\n    if (isSignedIn && user) {\n      setUser({\n        id: user.id,\n        email: user.emailAddresses[0]?.emailAddress || '',\n        firstName: user.firstName || undefined,\n        lastName: user.lastName || undefined,\n        imageUrl: user.imageUrl || undefined,\n      });\n    } else {\n      setUser(null);\n      setAuthenticated(false);\n    }\n  }, [user, isSignedIn, setUser, setAuthenticated]);\n\n  return null;\n}\n\n/**\n * Clerk authentication provider wrapper\n * Integrates Clerk.js with the application and syncs user state\n */\nexport function ClerkAuthProvider({ children }: ClerkAuthProviderProps) {\n  return (\n    <ClerkProvider\n      publishableKey={process.env.NEXT_PUBLIC_CLERK_PUBLISHABLE_KEY!}\n      dynamic\n      appearance={{\n        baseTheme: undefined, // Will be handled by our theme system\n        variables: {\n          colorPrimary: 'hsl(var(--primary))',\n          colorBackground: 'hsl(var(--background))',\n          colorInputBackground: 'hsl(var(--background))',\n          colorInputText: 'hsl(var(--foreground))',\n        },\n        elements: {\n          formButtonPrimary:\n            'bg-primary text-primary-foreground hover:bg-primary/90',\n          card: 'bg-card text-card-foreground border border-border',\n        },\n      }}\n    >\n      <UserSync />\n      {children}\n    </ClerkProvider>\n  );\n}\n"],"names":[],"mappings":";;;;AA6CsB;;AA3CtB;AACA;AAAA;AACA;;;AAJA;;;;AAaA;;CAEC,GACD,SAAS;;IACP,MAAM,EAAE,IAAI,EAAE,UAAU,EAAE,GAAG,IAAA,sTAAO;IACpC,MAAM,EAAE,OAAO,EAAE,gBAAgB,EAAE,GAAG,IAAA,qKAAY;IAElD,IAAA,yXAAS;8BAAC;YACR,IAAI,cAAc,MAAM;oBAGb;gBAFT,QAAQ;oBACN,IAAI,KAAK,EAAE;oBACX,OAAO,EAAA,wBAAA,KAAK,cAAc,CAAC,EAAE,cAAtB,4CAAA,sBAAwB,YAAY,KAAI;oBAC/C,WAAW,KAAK,SAAS,IAAI;oBAC7B,UAAU,KAAK,QAAQ,IAAI;oBAC3B,UAAU,KAAK,QAAQ,IAAI;gBAC7B;YACF,OAAO;gBACL,QAAQ;gBACR,iBAAiB;YACnB;QACF;6BAAG;QAAC;QAAM;QAAY;QAAS;KAAiB;IAEhD,OAAO;AACT;GApBS;;QACsB,sTAAO;QACE,qKAAY;;;KAF3C;AA0BF,SAAS,kBAAkB,KAAoC;QAApC,EAAE,QAAQ,EAA0B,GAApC;IAChC,qBACE,4YAAC,0YAAa;QACZ,cAAc;QACd,OAAO;QACP,YAAY;YACV,WAAW;YACX,WAAW;gBACT,cAAc;gBACd,iBAAiB;gBACjB,sBAAsB;gBACtB,gBAAgB;YAClB;YACA,UAAU;gBACR,mBACE;gBACF,MAAM;YACR;QACF;;0BAEA,4YAAC;;;;;YACA;;;;;;;AAGP;MAxBgB","debugId":null}}]
}